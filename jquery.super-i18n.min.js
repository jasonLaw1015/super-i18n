(function(n){n.fn.extend({i18n:function(t){function l(n){for(var t=document.cookie.split("; "),l=0;l<t.length;l++){var e=t[l].split("=");if(e[0]==n)return e[1]}return""}function e(n,t,l){var e=new Date;e.setDate(e.getDate()+l),document.cookie=n+"="+t+"; expires="+e}var a={lang:"",defaultLang:"",filePath:"/i18n/",filePrefix:"i18n_",fileSuffix:"",forever:!0,callback:function(){}};t=n.extend(a,t);if(""!=l("i18n_lang")&&"undefined"!=l("i18n_lang")&&null!=l("i18n_lang"))a.defaultLang=l("i18n_lang");else if(""==t.lang&&""==a.defaultLang)throw"defaultLang must not be null !";null!=t.lang&&""!=t.lang?t.forever?e("i18n_lang",t.lang):n.removeCookie("i18n_lang"):t.lang=a.defaultLang;var i=this;n.getJSON(t.filePath+t.filePrefix+t.lang+t.fileSuffix+".json",function(l){var e={};null!=l&&(e=l),n.i18nGet=function(n){if(e!={}){if(e.hasOwnProperty(n))return e[n];throw new Error("Key not exist")}throw new Error("Call i18n(option) first")},n(i).each(function(t){function l(){null!=n(r).val()&&""!=n(r).val()&&n(r).val(e[n(r).attr("i18n")])}function a(){null!=n(r).html()&&""!=n(r).html()&&n(r).html(e[n(r).attr("i18n")])}function i(t){null!=n(r).attr(t)&&""!=n(r).attr(t)&&n(r).attr(t,e[n(r).attr("i18n")])}var r=this,f=n(this).attr("i18n-only");if(f){var o=f.split(",");o.map(n=>{"value"==n?l():"html"==n?a():i(n)})}else l(),a(),i("placeholder")}),t.callback()})}})})(jQuery);